{"name": "test_update_profile[admin-000p;lko-999-True]", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидалась ошибка 403 или 404 для admin, но получен статус 200\nassert 200 in [401, 403, 404]\n +  where 200 = <Response [200]>.status_code", "trace": "username = 'admin', password = '000p;lko', url_suffix = '999', elses_profile = True\n\n    @pytest.mark.parametrize(\n        \"username, password, url_suffix, elses_profile\",\n        [\n            (\"admin\", \"000p;lko\", \"1\", False),\n            (\"test_123\", \"000P;lko\", \"24\", False),\n            (\"Ostap\", \"000olkji\", \"2\", False),\n            (\"admin\", \"000p;lko\", \"4\", True),\n            (\"admin\", \"000p;lko\", \"999\", True),\n            (\"admin\", \"000p;222lko\", \"22\", True),\n    \n        ]\n    )\n    @allure.feature('API: Обновление профиля')\n    def test_update_profile(username, password, url_suffix,elses_profile):\n        auth_cookies, sessionid = get_auth_tokens(username, password)\n    \n        update_url = f'http://127.0.0.1:8000/user/profile/update/{url_suffix}'\n    \n        headers = {\n            'Accept': 'application/x-www-form-urlencoded',\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 YaBrowser/25.4.0.0 Safari/537.36',\n        }\n    \n        data = {\n            'csrfmiddlewaretoken': auth_cookies.get('csrftoken', ''),\n            'about_me': 'Обновленный профиль через API',\n            'hobbys': 'Тестовые хобби',\n            'marital_status': 'Не важно',\n            'email': 'test@example.com',\n            'first_name': 'Обновлено',\n            'last_name': 'Профиль'\n        }\n    \n        cookies = auth_cookies.copy()\n        cookies['sessionid'] = sessionid\n    \n        with allure.step(f\"Обновление профиля для {username} с URL суффиксом {url_suffix}Чужой профиль{elses_profile}\"):\n            response = requests.post(\n                update_url,\n                headers=headers,\n                data=data,\n                cookies=cookies\n            )\n    \n            allure.attach(str(response.status_code), name=\"Код ответа\")\n            allure.attach(response.text, name=\"Ответ сервера\")\n    \n            if elses_profile:\n>               assert response.status_code in [401, 403, 404], (\n                    f\"Ожидалась ошибка 403 или 404 для {username}, но получен статус {response.status_code}\"\n                )\nE               AssertionError: Ожидалась ошибка 403 или 404 для admin, но получен статус 200\nE               assert 200 in [401, 403, 404]\nE                +  where 200 = <Response [200]>.status_code\n\nUsers_test.py:61: AssertionError"}, "steps": [{"name": "Обновление профиля для admin с URL суффиксом 999Чужой профильTrue", "status": "failed", "statusDetails": {"message": "AssertionError: Ожидалась ошибка 403 или 404 для admin, но получен статус 200\nassert 200 in [401, 403, 404]\n +  where 200 = <Response [200]>.status_code\n", "trace": "  File \"C:\\Users\\scree\\PycharmProjects\\pythonProject_AQA\\Test\\Users_test.py\", line 61, in test_update_profile\n    assert response.status_code in [401, 403, 404], (\n"}, "attachments": [{"name": "Код ответа", "source": "4cbedd88-91e3-412e-8fe0-9a7dc09e16b9-attachment.attach"}, {"name": "Ответ сервера", "source": "73f6a4f5-f465-490e-be6b-2a8c3d3b0002-attachment.attach"}], "start": 1750711653416, "stop": 1750711653443}], "parameters": [{"name": "username", "value": "'admin'"}, {"name": "password", "value": "'000p;lko'"}, {"name": "url_suffix", "value": "'999'"}, {"name": "elses_profile", "value": "True"}], "start": 1750711652189, "stop": 1750711653444, "uuid": "8aedcc58-323c-474c-b76e-be0b3fb9707a", "historyId": "57c207f8e5bdcecc9445989e530d614c", "testCaseId": "16a6b6c5eb01a4587dba57969cd82624", "fullName": "Users_test#test_update_profile", "labels": [{"name": "feature", "value": "API: Обновление профиля"}, {"name": "suite", "value": "Users_test"}, {"name": "host", "value": "LAPTOP-AFAHUU77"}, {"name": "thread", "value": "25120-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Users_test"}]}