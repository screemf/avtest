{"uid":"2758b544f29f896e","name":"test_websocket_notification_post_id","fullName":"WS_test#test_websocket_notification_post_id","historyId":"4a53a546bc3a7599483ddeb6b68fc13c","time":{"start":1750621503456,"stop":1750621505645,"duration":2189},"description":"\n    Тест проверяет, что в течение 100 секунд приходит хотя бы одно сообщение\n    через WebSocket соединение ws://localhost:8000/ws/posts/\n    ","descriptionHtml":"<pre><code>Тест проверяет, что в течение 100 секунд приходит хотя бы одно сообщение\nчерез WebSocket соединение ws://localhost:8000/ws/posts/\n</code></pre>\n","status":"failed","statusMessage":"Failed: Ошибка соединения: server rejected WebSocket connection: HTTP 500","statusTrace":">   ???\n\nC:\\Users\\scree\\PycharmProjects\\pythonProject_AQA\\Тест\\WS_test.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\.venv\\Lib\\site-packages\\websockets\\asyncio\\client.py:587: in __aenter__\n    return await self\n           ^^^^^^^^^^\n..\\.venv\\Lib\\site-packages\\websockets\\asyncio\\client.py:543: in __await_impl__\n    await self.connection.handshake(\n..\\.venv\\Lib\\site-packages\\websockets\\asyncio\\client.py:114: in handshake\n    raise self.protocol.handshake_exc\n..\\.venv\\Lib\\site-packages\\websockets\\client.py:325: in parse\n    self.process_response(response)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <websockets.client.ClientProtocol object at 0x000002326D5BF3B0>\nresponse = Response(status_code=500, reason_phrase='Internal server error', headers=Headers([]), body=bytearray(b''), _exception=InvalidStatus(...))\n\n    def process_response(self, response: Response) -> None:\n        \"\"\"\n        Check a handshake response.\n    \n        Args:\n            request: WebSocket handshake response received from the server.\n    \n        Raises:\n            InvalidHandshake: If the handshake response is invalid.\n    \n        \"\"\"\n    \n        if response.status_code != 101:\n>           raise InvalidStatus(response)\nE           websockets.exceptions.InvalidStatus: server rejected WebSocket connection: HTTP 500\n\n..\\.venv\\Lib\\site-packages\\websockets\\client.py:142: InvalidStatus\n\nDuring handling of the above exception, another exception occurred:\n\n>   ???\nE   Failed: Ошибка соединения: server rejected WebSocket connection: HTTP 500\n\nC:\\Users\\scree\\PycharmProjects\\pythonProject_AQA\\Тест\\WS_test.py:65: Failed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop_policy","time":{"start":1750621472632,"stop":1750621472632,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":false}],"testStage":{"description":"\n    Тест проверяет, что в течение 100 секунд приходит хотя бы одно сообщение\n    через WebSocket соединение ws://localhost:8000/ws/posts/\n    ","status":"failed","statusMessage":"Failed: Ошибка соединения: server rejected WebSocket connection: HTTP 500","statusTrace":">   ???\n\nC:\\Users\\scree\\PycharmProjects\\pythonProject_AQA\\Тест\\WS_test.py:52: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n..\\.venv\\Lib\\site-packages\\websockets\\asyncio\\client.py:587: in __aenter__\n    return await self\n           ^^^^^^^^^^\n..\\.venv\\Lib\\site-packages\\websockets\\asyncio\\client.py:543: in __await_impl__\n    await self.connection.handshake(\n..\\.venv\\Lib\\site-packages\\websockets\\asyncio\\client.py:114: in handshake\n    raise self.protocol.handshake_exc\n..\\.venv\\Lib\\site-packages\\websockets\\client.py:325: in parse\n    self.process_response(response)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <websockets.client.ClientProtocol object at 0x000002326D5BF3B0>\nresponse = Response(status_code=500, reason_phrase='Internal server error', headers=Headers([]), body=bytearray(b''), _exception=InvalidStatus(...))\n\n    def process_response(self, response: Response) -> None:\n        \"\"\"\n        Check a handshake response.\n    \n        Args:\n            request: WebSocket handshake response received from the server.\n    \n        Raises:\n            InvalidHandshake: If the handshake response is invalid.\n    \n        \"\"\"\n    \n        if response.status_code != 101:\n>           raise InvalidStatus(response)\nE           websockets.exceptions.InvalidStatus: server rejected WebSocket connection: HTTP 500\n\n..\\.venv\\Lib\\site-packages\\websockets\\client.py:142: InvalidStatus\n\nDuring handling of the above exception, another exception occurred:\n\n>   ???\nE   Failed: Ошибка соединения: server rejected WebSocket connection: HTTP 500\n\nC:\\Users\\scree\\PycharmProjects\\pythonProject_AQA\\Тест\\WS_test.py:65: Failed","steps":[{"name":"Установка WebSocket соединения с ws://localhost:8000/ws/post/15","time":{"start":1750621503457,"stop":1750621505642,"duration":2185},"status":"failed","statusMessage":"Failed: Ошибка соединения: server rejected WebSocket connection: HTTP 500\n","statusTrace":"  File \"C:\\Users\\scree\\PycharmProjects\\pythonProject_AQA\\Тест\\WS_test.py\", line 65, in test_websocket_notification_post_id\n  File \"C:\\Users\\scree\\PycharmProjects\\pythonProject_AQA\\.venv\\Lib\\site-packages\\_pytest\\outcomes.py\", line 177, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":0,"hasContent":true}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"attachmentsCount":0,"attachmentStep":false,"stepsCount":1,"hasContent":true},"afterStages":[],"labels":[{"name":"feature","value":"WebSocket создание комментария"},{"name":"suite","value":"WS_test"},{"name":"host","value":"LAPTOP-AFAHUU77"},{"name":"thread","value":"21164-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"WS_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Product defects","matchedStatuses":[]}],"tags":[]},"source":"2758b544f29f896e.json","parameterValues":[]}